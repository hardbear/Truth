# Summary

仔细考虑区间端点 （1）



---



# Draft

## 【Difficulty : 2400 | Solved : < 1000】

### 2019.05.02

#### ✔ Codeforces 145E (线段树)

**题意**

长度为 n 的字符串，只由 4 和 7 组成。

m 次操作：

1. 区间 [l, r] 内，4 变 7，7 变 4
2. 求整个字符串的最长非严格上升子序列，并输出长度

**思考**

本来没想法，百度，看到关键词，线段树，没看题解！就会做了！



#### ✔ Codeforces 1107G

**题意**

求区间 L 和 R 使得 (R - L + 1) * a - c(R, L) - maxd(R, L) 最大

**思考**

1. 预处理 ans = max(ans, a[i] - c[i], 0)
2. dd[i] = d[i] - d[i-1]
3. 对于每个 i ，找到左右两边第一个 dd[j] > dd[i] ，即每个 i 对应一个 l[i]，r[i]
4. 预处理 pre[i] = pre[i-1] + a - c[i]
5. 以 dd[i] 为最大值 maxd，在 l[i] 和 r[i] 的范围内找最大和最小的 pre

**总结**

ST 表区间涉及端点 0 ，但板子没考虑端点 0



#### Codeforces 584E 

**题意**

两个排列 p 和 s ，每次交换 pi 和 pj ，花费 abs(i-j) ，求最少花费使 p 变成 s ，且输出方案。

**思考**

每次找当前需要符合 si 的 pj ，尝试把 pj 移动到 pi ，两种移动方法，冒泡和直接 pi 和 pj 交换，取决于 pi 在 s 的位置是否大于 j

不行！连样例都过不去。

